<button
  type="button"
  role="checkbox"
  [attr.id]="id || null"
  [attr.aria-checked]="checked"
  [attr.aria-disabled]="disabled"
  [disabled]="disabled"
  [ngClass]="[
    'w-full border-0 bg-transparent p-0 text-left outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background',
    variant === 'card'
      ? checked
        ? 'flex items-start gap-3 rounded-lg border border-primary bg-muted p-4'
        : 'flex items-start gap-3 rounded-lg border border-border bg-background p-4'
      : hasDescription
        ? 'flex items-start gap-3'
        : 'flex items-center gap-3',
    disabled ? 'opacity-50' : '',
    className
  ]"
  (click)="onToggle()"
>
  <span
    [ngClass]="[
      'mt-0.5 inline-flex h-4 w-4 shrink-0 items-center justify-center rounded-sm border shadow-sm',
      checked ? 'border-primary bg-primary text-primary-foreground' : 'border-input bg-background text-transparent'
    ]"
    aria-hidden="true"
  >
    <svg viewBox="0 0 16 16" class="h-3 w-3" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M3 8.5L6.4 12L13 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
    </svg>
  </span>

  <span [ngClass]="['min-w-0 flex-1', hasDescription ? 'flex flex-col gap-2' : 'flex items-center']">
    <span class="text-sm font-medium text-foreground">{{ label }}</span>
    <span *ngIf="hasDescription" class="text-sm text-muted-foreground">{{ description }}</span>
  </span>
</button>
