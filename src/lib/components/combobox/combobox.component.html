<div [ngClass]="['flex flex-col gap-1', className]" [style.width.px]="width">
  <button
    type="button"
    class="flex h-9 w-full items-center gap-2 rounded-[8px] border border-[hsl(var(--border))] bg-[hsl(var(--background))] px-3 py-2 shadow-sm"
    [attr.aria-expanded]="open"
    (click)="toggle()"
  >
    <span class="min-w-0 flex-1 truncate text-left text-[14px] font-medium leading-5 text-[hsl(var(--foreground))]">{{ selectedLabel }}</span>
    <svg viewBox="0 0 24 24" class="h-4 w-4 text-[hsl(var(--foreground))]" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M7 15L12 20L17 15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
      <path d="M17 9L12 4L7 9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
    </svg>
  </button>

  <div
    *ngIf="open"
    class="w-full rounded-[8px] border border-[hsl(var(--border))] bg-[hsl(var(--background))] shadow-md"
  >
    <div class="flex items-center gap-2 border-b border-[hsl(var(--border))] px-3">
      <svg viewBox="0 0 24 24" class="h-4 w-4 text-[hsl(var(--muted-foreground))]" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="1.5"></circle>
        <path d="M20 20L16.6 16.6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path>
      </svg>
      <div class="h-9 flex-1 py-2 text-[14px] leading-5 text-[hsl(var(--muted-foreground))]">{{ searchPlaceholder }}</div>
    </div>

    <div class="p-1">
      <button
        *ngFor="let option of options"
        type="button"
        class="flex w-full items-center gap-2 rounded-[4px] px-2 py-[6px] text-left"
        [ngClass]="option === value ? 'bg-[hsl(var(--muted))]' : ''"
        (click)="select(option)"
      >
        <span [ngClass]="['min-w-0 flex-1 truncate text-[14px] leading-5', option === value ? 'text-[hsl(var(--foreground))]' : 'text-[hsl(var(--foreground))]']">{{ option }}</span>
        <svg *ngIf="option === value" viewBox="0 0 24 24" class="h-4 w-4 text-[hsl(var(--foreground))]" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M5 12.5L9.2 16.7L19 7" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"></path>
        </svg>
      </button>
    </div>
  </div>
</div>
