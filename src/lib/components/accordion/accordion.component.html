<div [ngClass]="['w-full', className]">
  <div *ngFor="let item of items; let i = index" class="border-b border-border">
    <h3>
      <button
        type="button"
        class="flex w-full appearance-none items-center justify-between border-0 bg-transparent py-4 text-left text-sm font-medium text-foreground transition-all hover:underline ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"
        [disabled]="item.disabled"
        [attr.aria-expanded]="isExpanded(i)"
        [attr.aria-controls]="item.id + '-panel'"
        (click)="toggle(i)"
      >
        <span class="pr-2">{{ item.title }}</span>
        <span class="inline-flex h-6 w-6 items-center justify-center text-foreground" aria-hidden="true">
          <svg
            class="h-4 w-4 transition-transform"
            [ngClass]="isExpanded(i) ? 'rotate-180' : ''"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="M3.5 6.5L8 11L12.5 6.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
          </svg>
        </span>
      </button>
    </h3>
    <div
      *ngIf="isExpanded(i)"
      [id]="item.id + '-panel'"
      class="flex flex-col gap-4 pb-4 text-sm text-muted-foreground"
    >
      <p *ngFor="let line of contentLines(item.content)" class="m-0">{{ line }}</p>
    </div>
  </div>
</div>
