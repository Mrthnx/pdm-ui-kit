<div [ngClass]="['w-full', className]">
  <div *ngFor="let item of items; let i = index" class="border-b border-[hsl(var(--border))]">
    <h3>
      <button
        type="button"
        class="flex h-[52px] w-full items-center justify-between py-4 text-left text-[14px] font-medium leading-5 text-[hsl(var(--foreground))] transition-colors"
        [disabled]="item.disabled"
        [attr.aria-expanded]="isExpanded(i)"
        [attr.aria-controls]="item.id + '-panel'"
        (click)="toggle(i)"
      >
        <span class="pr-[10px]">{{ item.title }}</span>
        <span class="inline-flex h-6 w-6 items-center justify-center text-[hsl(var(--foreground))]" aria-hidden="true">
          <svg
            class="h-4 w-4 transition-transform"
            [ngClass]="isExpanded(i) ? 'rotate-180' : ''"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="M3.5 6.5L8 11L12.5 6.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
          </svg>
        </span>
      </button>
    </h3>
    <div
      *ngIf="isExpanded(i)"
      [id]="item.id + '-panel'"
      class="flex flex-col gap-4 pb-4 text-[14px] font-normal leading-5 text-[hsl(var(--foreground))]"
    >
      <p *ngFor="let line of contentLines(item.content)" class="m-0">{{ line }}</p>
    </div>
  </div>
</div>
