<section
  [ngClass]="[
    'rounded-[10px] border border-[hsl(var(--border))] bg-[hsl(var(--background))] p-3 shadow-sm',
    mode === 'range' ? 'w-[488px]' : 'w-[250px]',
    className
  ]"
>
  <div [ngClass]="['grid gap-4', mode === 'range' ? 'grid-cols-2' : 'grid-cols-1']">
    <div class="space-y-4">
      <header class="flex items-center justify-between">
        <button type="button" class="inline-flex h-8 w-8 items-center justify-center rounded-[6px] text-[hsl(var(--foreground))]">‹</button>
        <div [ngClass]="['flex items-center justify-center gap-1', mode === 'range' ? 'w-full' : 'w-[160px]']">
          <ng-container *ngIf="mode === 'single'; else monthText">
            <span class="inline-flex h-8 items-center rounded-[8px] border border-[hsl(var(--border))] px-2 text-[14px] font-medium leading-5 text-[hsl(var(--foreground))] shadow-sm">Jun</span>
            <span class="inline-flex h-8 items-center rounded-[8px] border border-[hsl(var(--border))] px-2 text-[14px] font-medium leading-5 text-[hsl(var(--foreground))] shadow-sm">2025</span>
          </ng-container>
          <ng-template #monthText>
            <span class="text-[28px] text-[14px] font-medium leading-5 text-[hsl(var(--foreground))]">{{ leftMonthName }} {{ year }}</span>
          </ng-template>
        </div>
        <button type="button" class="inline-flex h-8 w-8 items-center justify-center rounded-[6px] text-[hsl(var(--foreground))]">{{ mode === 'range' ? '' : '›' }}</button>
      </header>

      <div>
        <div class="grid grid-cols-7">
          <span *ngFor="let day of weekdays" class="inline-flex h-[21px] items-center justify-center text-[12px] font-normal leading-4 text-[hsl(var(--muted-foreground))]">{{ day }}</span>
        </div>
        <div class="mt-2 grid grid-cols-7 gap-y-2">
          <button
            *ngFor="let cell of leftCells"
            type="button"
            [ngClass]="[
              'inline-flex h-8 w-8 items-center justify-center rounded-[8px] text-[14px] font-normal leading-5',
              cell.outside ? 'text-[hsl(var(--foreground))] opacity-50' : 'text-[hsl(var(--foreground))]',
              cell.inRange ? 'bg-[hsl(var(--muted))]' : '',
              cell.selected ? 'bg-[hsl(var(--foreground))] text-[hsl(var(--background))]' : ''
            ]"
          >
            {{ cell.day }}
          </button>
        </div>
      </div>
    </div>

    <div *ngIf="mode === 'range'" class="space-y-4">
      <header class="flex items-center justify-between">
        <span class="text-[14px] font-medium leading-5 text-[hsl(var(--foreground))]">{{ rightMonthName }} {{ month === 12 ? year + 1 : year }}</span>
        <button type="button" class="inline-flex h-8 w-8 items-center justify-center rounded-[6px] text-[hsl(var(--foreground))]">›</button>
      </header>

      <div>
        <div class="grid grid-cols-7">
          <span *ngFor="let day of weekdays" class="inline-flex h-[21px] items-center justify-center text-[12px] font-normal leading-4 text-[hsl(var(--muted-foreground))]">{{ day }}</span>
        </div>
        <div class="mt-2 grid grid-cols-7 gap-y-2">
          <button
            *ngFor="let cell of rightCells"
            type="button"
            [ngClass]="[
              'inline-flex h-8 w-8 items-center justify-center rounded-[8px] text-[14px] font-normal leading-5',
              cell.outside ? 'text-[hsl(var(--foreground))] opacity-50' : 'text-[hsl(var(--foreground))]',
              cell.inRange ? 'bg-[hsl(var(--muted))]' : '',
              cell.selected ? 'bg-[hsl(var(--foreground))] text-[hsl(var(--background))]' : ''
            ]"
          >
            {{ cell.day }}
          </button>
        </div>
      </div>
    </div>
  </div>
</section>

