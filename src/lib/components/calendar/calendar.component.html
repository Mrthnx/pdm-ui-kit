<section
  [ngClass]="[
    'rounded-lg border border-border bg-background p-3 shadow-sm',
    mode === 'range' ? 'w-full max-w-2xl' : 'w-full max-w-sm',
    className
  ]"
>
  <div [ngClass]="['grid gap-4', mode === 'range' ? 'grid-cols-2' : 'grid-cols-1']">
    <div class="space-y-4">
      <header class="flex items-center justify-between">
        <button type="button" class="inline-flex h-8 w-8 items-center justify-center rounded-md text-foreground hover:bg-accent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background">‹</button>
        <div [ngClass]="['flex items-center justify-center gap-1', mode === 'range' ? 'w-full' : 'w-full']">
          <ng-container *ngIf="mode === 'single'; else monthText">
            <span class="inline-flex h-8 items-center rounded-md border border-border px-2 text-sm font-medium text-foreground shadow-sm">Jun</span>
            <span class="inline-flex h-8 items-center rounded-md border border-border px-2 text-sm font-medium text-foreground shadow-sm">2025</span>
          </ng-container>
          <ng-template #monthText>
            <span class="text-sm font-medium text-foreground">{{ leftMonthName }} {{ year }}</span>
          </ng-template>
        </div>
        <button type="button" class="inline-flex h-8 w-8 items-center justify-center rounded-md text-foreground hover:bg-accent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background">{{ mode === 'range' ? '' : '›' }}</button>
      </header>

      <div>
        <div class="grid grid-cols-7">
          <span *ngFor="let day of weekdays" class="inline-flex h-5 items-center justify-center text-xs font-normal text-muted-foreground">{{ day }}</span>
        </div>
        <div class="mt-2 grid grid-cols-7 gap-y-2">
          <button
            *ngFor="let cell of leftCells"
            type="button"
            [ngClass]="[
              'inline-flex h-8 w-8 items-center justify-center rounded-md text-sm font-normal transition-colors hover:bg-accent hover:text-accent-foreground',
              cell.outside ? 'text-muted-foreground opacity-50' : 'text-foreground',
              cell.inRange ? 'bg-accent text-accent-foreground' : '',
              cell.selected ? 'bg-primary text-primary-foreground' : ''
            ]"
          >
            {{ cell.day }}
          </button>
        </div>
      </div>
    </div>

    <div *ngIf="mode === 'range'" class="space-y-4">
      <header class="flex items-center justify-between">
        <span class="text-sm font-medium text-foreground">{{ rightMonthName }} {{ month === 12 ? year + 1 : year }}</span>
        <button type="button" class="inline-flex h-8 w-8 items-center justify-center rounded-md text-foreground hover:bg-accent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background">›</button>
      </header>

      <div>
        <div class="grid grid-cols-7">
          <span *ngFor="let day of weekdays" class="inline-flex h-5 items-center justify-center text-xs font-normal text-muted-foreground">{{ day }}</span>
        </div>
        <div class="mt-2 grid grid-cols-7 gap-y-2">
          <button
            *ngFor="let cell of rightCells"
            type="button"
            [ngClass]="[
              'inline-flex h-8 w-8 items-center justify-center rounded-md text-sm font-normal transition-colors hover:bg-accent hover:text-accent-foreground',
              cell.outside ? 'text-muted-foreground opacity-50' : 'text-foreground',
              cell.inRange ? 'bg-accent text-accent-foreground' : '',
              cell.selected ? 'bg-primary text-primary-foreground' : ''
            ]"
          >
            {{ cell.day }}
          </button>
        </div>
      </div>
    </div>
  </div>
</section>
