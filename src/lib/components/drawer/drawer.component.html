<div *ngIf="open" class="fixed inset-0 z-50" [ngClass]="className">
  <div class="absolute inset-0 bg-[hsl(var(--foreground)/0.3)]" (click)="close()"></div>

  <section
    *ngIf="variant === 'drawer'; else responsiveDialog"
    class="absolute inset-x-0 bottom-0 mx-auto w-full max-w-[1229px] rounded-t-[10px] border border-[hsl(var(--border))] bg-[hsl(var(--background))] p-6 shadow-lg"
  >
    <div class="mx-auto mb-4 h-1 w-10 rounded-full bg-[hsl(var(--border))]"></div>

    <div class="mx-auto flex max-w-[320px] flex-col items-center">
      <h3 class="m-0 text-[14px] font-semibold leading-5 text-[hsl(var(--foreground))]">{{ title }}</h3>
      <p class="m-0 mt-1 text-[12px] leading-4 text-[hsl(var(--muted-foreground))]">{{ description }}</p>

      <div class="mt-3 flex w-full items-center justify-center gap-4">
        <button type="button" class="inline-flex h-6 w-6 items-center justify-center rounded-full border border-[hsl(var(--border))] text-[hsl(var(--muted-foreground))]">-</button>
        <div class="text-center">
          <div class="text-[48px] font-semibold leading-none text-[hsl(var(--foreground))]">{{ value }}</div>
          <div class="mt-1 text-[10px] tracking-wide text-[hsl(var(--muted-foreground))]">{{ unit }}</div>
        </div>
        <button type="button" class="inline-flex h-6 w-6 items-center justify-center rounded-full border border-[hsl(var(--border))] text-[hsl(var(--muted-foreground))]">+</button>
      </div>

      <div class="mt-3 flex h-[58px] w-full items-end gap-[3px]">
        <div *ngFor="let bar of bars" class="flex-1 bg-[hsl(var(--foreground))]" [style.height.px]="bar"></div>
      </div>

      <button type="button" class="mt-3 h-9 w-full rounded-[10px] bg-[hsl(var(--foreground))] text-[14px] font-medium text-[hsl(var(--background))]" (click)="onPrimaryAction()">Submit</button>
      <button type="button" class="mt-2 h-9 w-full rounded-[10px] border border-[hsl(var(--border))] bg-[hsl(var(--background))] text-[14px] font-medium text-[hsl(var(--foreground))]" (click)="onSecondaryAction()">Cancel</button>
    </div>
  </section>

  <ng-template #responsiveDialog>
    <section class="absolute left-1/2 top-1/2 w-full max-w-[423px] -translate-x-1/2 -translate-y-1/2 rounded-[10px] border border-[hsl(var(--border))] bg-[hsl(var(--background))] p-4 shadow-lg">
      <div class="flex items-start justify-between">
        <div>
          <h3 class="m-0 text-[18px] font-semibold leading-7 text-[hsl(var(--foreground))]">{{ profileTitle }}</h3>
          <p class="m-0 mt-1 text-[12px] leading-4 text-[hsl(var(--muted-foreground))]">{{ profileDescription }}</p>
        </div>
        <button type="button" class="h-5 w-5 text-[hsl(var(--muted-foreground))]" (click)="close()">Ã—</button>
      </div>

      <div class="mt-3 flex flex-col gap-3">
        <div>
          <label class="mb-1 block text-[12px] font-medium leading-4 text-[hsl(var(--foreground))]">{{ nameLabel }}</label>
          <div class="h-8 rounded-[6px] border border-[hsl(var(--border))] bg-[hsl(var(--background))] px-2 py-1 text-[12px] leading-4 text-[hsl(var(--foreground))]">{{ nameValue }}</div>
        </div>
        <div>
          <label class="mb-1 block text-[12px] font-medium leading-4 text-[hsl(var(--foreground))]">{{ usernameLabel }}</label>
          <div class="h-8 rounded-[6px] border border-[hsl(var(--border))] bg-[hsl(var(--background))] px-2 py-1 text-[12px] leading-4 text-[hsl(var(--foreground))]">{{ usernameValue }}</div>
        </div>
      </div>

      <button type="button" class="mt-3 h-8 w-full rounded-[8px] bg-[hsl(var(--foreground))] text-[12px] font-medium text-[hsl(var(--background))]" (click)="onPrimaryAction()">Save changes</button>
    </section>
  </ng-template>
</div>
